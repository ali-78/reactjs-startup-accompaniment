{"ast":null,"code":"import _defineProperty from\"/home/ali/reactjs-startup-accompaniment/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"/home/ali/reactjs-startup-accompaniment/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/home/ali/reactjs-startup-accompaniment/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useReducer,useState}from\"react\";import{useHistory,useLocation}from\"react-router\";import queryString from\"query-string\";import{SearchFilter}from\"./SearchFilter\";import{SearchTable}from\"./SearchTable\";import*as SearchModel from\"../../core/initialvalues/search-initialvalues\";import style from\"./SearchContainer.module.css\";var SearchContainer=function SearchContainer(){var history=useHistory();var searchParams=useLocation().search;var searchPathname=useLocation().pathname;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),filterToggle=_useState2[0],setFilterToggle=_useState2[1];var _useReducer=useReducer(function(s,a){return _objectSpread(_objectSpread({},s),a);},SearchModel.SearchInittial),_useReducer2=_slicedToArray(_useReducer,2),searchState=_useReducer2[0],setSearchState=_useReducer2[1];var FindQueries=function FindQueries(keys,params){keys.map(function(key){SearchModel.NumbericParams.includes(key)&&setSearchState(_defineProperty({},key,Number(params[key])));SearchModel.BooleanParams.includes(key)&&setSearchState(_defineProperty({},key,true));SearchModel.ArrayParams.includes(key)&&setSearchState(_defineProperty({},key,JSON.parse(params[key])));});};useEffect(function(){searchPathname!==\"\".concat(searchPathname)&&history.push(\"\".concat(searchPathname,\"?page=\",1));},[]);useEffect(function(){setSearchState(SearchModel.SearchInittial);var params=queryString.parseUrl(searchParams).query;var keys=Object.keys(params);FindQueries(keys,params);},[searchParams]);return/*#__PURE__*/React.createElement(\"div\",{className:style.searchContainer},/*#__PURE__*/React.createElement(SearchFilter,{filterToggle:filterToggle,setFilterToggle:setFilterToggle}),/*#__PURE__*/React.createElement(SearchTable,{searchState:searchState,filterToggle:filterToggle}));};export{SearchContainer};// import { useSearchResult } from \"../../../core/api/search.api\"\n// import { ISearchInittial } from \"../../../core/models/search.model\"\n// import Cookie from \"js-cookie\"\n// import swal from \"sweetalert\"\n// const { resolvedData, isLoading } = useSearchResult(\n//   searchState\n// )","map":{"version":3,"sources":["/home/ali/reactjs-startup-accompaniment/src/components/Search/SearchContainer.tsx"],"names":["React","useEffect","useReducer","useState","useHistory","useLocation","queryString","SearchFilter","SearchTable","SearchModel","style","SearchContainer","history","searchParams","search","searchPathname","pathname","filterToggle","setFilterToggle","s","a","SearchInittial","searchState","setSearchState","FindQueries","keys","params","map","key","NumbericParams","includes","Number","BooleanParams","ArrayParams","JSON","parse","push","parseUrl","query","Object","searchContainer"],"mappings":"+WAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,CAA2BC,UAA3B,CAAuCC,QAAvC,KAAuD,OAAvD,CACA,OAASC,UAAT,CAAqBC,WAArB,KAAwC,cAAxC,CACA,MAAOC,CAAAA,WAAP,KAAwB,cAAxB,CAEA,OAASC,YAAT,KAA6B,gBAA7B,CACA,OAASC,WAAT,KAA4B,eAA5B,CACA,MAAO,GAAKC,CAAAA,WAAZ,KAA6B,+CAA7B,CAEA,MAAOC,CAAAA,KAAP,KAAkB,8BAAlB,CAEA,GAAMC,CAAAA,eAAyB,CAAG,QAA5BA,CAAAA,eAA4B,EAAM,CACtC,GAAMC,CAAAA,OAAY,CAAGR,UAAU,EAA/B,CACA,GAAMS,CAAAA,YAAoB,CAAGR,WAAW,GAAGS,MAA3C,CACA,GAAMC,CAAAA,cAAsB,CAAGV,WAAW,GAAGW,QAA7C,CAHsC,cAKEb,QAAQ,CAAU,KAAV,CALV,wCAK/Bc,YAL+B,eAKjBC,eALiB,+BAMAhB,UAAU,CAC9C,SAACiB,CAAD,CAAIC,CAAJ,wCAAgBD,CAAhB,EAAsBC,CAAtB,GAD8C,CAE9CX,WAAW,CAACY,cAFkC,CANV,4CAM/BC,WAN+B,iBAMlBC,cANkB,iBAWtC,GAAMC,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,CAACC,IAAD,CAAOC,MAAP,CAAkB,CACpCD,IAAI,CAACE,GAAL,CAAS,SAACC,GAAD,CAAiB,CACxBnB,WAAW,CAACoB,cAAZ,CAA2BC,QAA3B,CAAoCF,GAApC,GACEL,cAAc,oBAAIK,GAAJ,CAAUG,MAAM,CAACL,MAAM,CAACE,GAAD,CAAP,CAAhB,EADhB,CAGAnB,WAAW,CAACuB,aAAZ,CAA0BF,QAA1B,CAAmCF,GAAnC,GAA2CL,cAAc,oBAAIK,GAAJ,CAAU,IAAV,EAAzD,CAEAnB,WAAW,CAACwB,WAAZ,CAAwBH,QAAxB,CAAiCF,GAAjC,GACEL,cAAc,oBAAIK,GAAJ,CAAUM,IAAI,CAACC,KAAL,CAAWT,MAAM,CAACE,GAAD,CAAjB,CAAV,EADhB,CAED,CARD,EASD,CAVD,CAYA3B,SAAS,CAAC,UAAM,CACdc,cAAc,aAAQA,cAAR,CAAd,EACEH,OAAO,CAACwB,IAAR,WAAgBrB,cAAhB,UAAuC,CAAvC,EADF,CAED,CAHQ,CAGN,EAHM,CAAT,CAKAd,SAAS,CAAC,UAAM,CACdsB,cAAc,CAACd,WAAW,CAACY,cAAb,CAAd,CACA,GAAMK,CAAAA,MAAM,CAAGpB,WAAW,CAAC+B,QAAZ,CAAqBxB,YAArB,EAAmCyB,KAAlD,CACA,GAAMb,CAAAA,IAAc,CAAGc,MAAM,CAACd,IAAP,CAAYC,MAAZ,CAAvB,CACAF,WAAW,CAACC,IAAD,CAAOC,MAAP,CAAX,CACD,CALQ,CAKN,CAACb,YAAD,CALM,CAAT,CAOA,mBACE,2BAAK,SAAS,CAAEH,KAAK,CAAC8B,eAAtB,eACE,oBAAC,YAAD,EACE,YAAY,CAAEvB,YADhB,CAEE,eAAe,CAAEC,eAFnB,EADF,cAKE,oBAAC,WAAD,EAAa,WAAW,CAAEI,WAA1B,CAAuC,YAAY,CAAEL,YAArD,EALF,CADF,CASD,CA5CD,CA8CA,OAASN,eAAT,EAEA;AACA;AACA;AACA;AAEA;AACA;AACA","sourcesContent":["import React, { useEffect, useReducer, useState } from \"react\"\nimport { useHistory, useLocation } from \"react-router\"\nimport queryString from \"query-string\"\n\nimport { SearchFilter } from \"./SearchFilter\"\nimport { SearchTable } from \"./SearchTable\"\nimport * as SearchModel from \"../../core/initialvalues/search-initialvalues\"\n\nimport style from \"./SearchContainer.module.css\"\n\nconst SearchContainer: React.FC = () => {\n  const history: any = useHistory()\n  const searchParams: string = useLocation().search\n  const searchPathname: string = useLocation().pathname\n\n  const [filterToggle, setFilterToggle] = useState<boolean>(false)\n  const [searchState, setSearchState] = useReducer(\n    (s, a) => ({ ...s, ...a }),\n    SearchModel.SearchInittial\n  )\n\n  const FindQueries = (keys, params) => {\n    keys.map((key: string) => {\n      SearchModel.NumbericParams.includes(key) &&\n        setSearchState({ [key]: Number(params[key]) })\n\n      SearchModel.BooleanParams.includes(key) && setSearchState({ [key]: true })\n\n      SearchModel.ArrayParams.includes(key) &&\n        setSearchState({ [key]: JSON.parse(params[key]) })\n    })\n  }\n\n  useEffect(() => {\n    searchPathname !== `${searchPathname}` &&\n      history.push(`${searchPathname}?page=${1}`)\n  }, [])\n\n  useEffect(() => {\n    setSearchState(SearchModel.SearchInittial)\n    const params = queryString.parseUrl(searchParams).query\n    const keys: string[] = Object.keys(params)\n    FindQueries(keys, params)\n  }, [searchParams])\n\n  return (\n    <div className={style.searchContainer}>\n      <SearchFilter\n        filterToggle={filterToggle}\n        setFilterToggle={setFilterToggle}\n      />\n      <SearchTable searchState={searchState} filterToggle={filterToggle} />\n    </div>\n  )\n}\n\nexport { SearchContainer }\n\n// import { useSearchResult } from \"../../../core/api/search.api\"\n// import { ISearchInittial } from \"../../../core/models/search.model\"\n// import Cookie from \"js-cookie\"\n// import swal from \"sweetalert\"\n\n// const { resolvedData, isLoading } = useSearchResult(\n//   searchState\n// )\n"]},"metadata":{},"sourceType":"module"}