{"ast":null,"code":"import _slicedToArray from\"/home/ali/reactjs-startup-accompaniment/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{createContext,useReducer,useEffect}from\"react\";import{tokenReducer}from\"../../reducers/token\";export var TokenContext=createContext({token:{accessToken:null,refereshToken:null},dispatch:null});var TokenContextProvider=function TokenContextProvider(props){var _useReducer=useReducer(tokenReducer,{accessToken:null,refereshToken:null},function(){var localData=localStorage.getItem(\"token\");return localData?JSON.parse(localData):{accessToken:null,refereshToken:null};}),_useReducer2=_slicedToArray(_useReducer,2),token=_useReducer2[0],dispatch=_useReducer2[1];useEffect(function(){localStorage.setItem(\"token\",JSON.stringify(token));},[token]);var value={token:token,dispatch:dispatch};return/*#__PURE__*/React.createElement(TokenContext.Provider,{value:value},props.children);};export{TokenContextProvider};","map":{"version":3,"sources":["/home/ali/reactjs-startup-accompaniment/src/components/AuthContext/AuthContext.tsx"],"names":["React","createContext","useReducer","useEffect","tokenReducer","TokenContext","token","accessToken","refereshToken","dispatch","TokenContextProvider","props","localData","localStorage","getItem","JSON","parse","setItem","stringify","value","children"],"mappings":"0HAAA,MAAOA,CAAAA,KAAP,EAAgBC,aAAhB,CAA+BC,UAA/B,CAA2CC,SAA3C,KAA4D,OAA5D,CAEA,OAASC,YAAT,KAA6B,sBAA7B,CAOA,MAAO,IAAMC,CAAAA,YAAY,CAAGJ,aAAa,CAAC,CACxCK,KAAK,CAAE,CAAEC,WAAW,CAAE,IAAf,CAAqBC,aAAa,CAAE,IAApC,CADiC,CAExCC,QAAQ,CAAE,IAF8B,CAAD,CAAlC,CAKP,GAAMC,CAAAA,oBAAoB,CAAG,QAAvBA,CAAAA,oBAAuB,CAACC,KAAD,CAAW,iBACZT,UAAU,CAClCE,YADkC,CAElC,CAAEG,WAAW,CAAE,IAAf,CAAqBC,aAAa,CAAE,IAApC,CAFkC,CAGlC,UAAM,CACJ,GAAMI,CAAAA,SAAS,CAAGC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAlB,CACA,MAAOF,CAAAA,SAAS,CACZG,IAAI,CAACC,KAAL,CAAWJ,SAAX,CADY,CAEZ,CAAEL,WAAW,CAAE,IAAf,CAAqBC,aAAa,CAAE,IAApC,CAFJ,CAGD,CARiC,CADE,4CAC/BF,KAD+B,iBACxBG,QADwB,iBAYtCN,SAAS,CAAC,UAAM,CACdU,YAAY,CAACI,OAAb,CAAqB,OAArB,CAA8BF,IAAI,CAACG,SAAL,CAAeZ,KAAf,CAA9B,EACD,CAFQ,CAEN,CAACA,KAAD,CAFM,CAAT,CAIA,GAAMa,CAAAA,KAAK,CAAG,CAAEb,KAAK,CAALA,KAAF,CAASG,QAAQ,CAARA,QAAT,CAAd,CACA,mBACE,oBAAC,YAAD,CAAc,QAAd,EAAuB,KAAK,CAAEU,KAA9B,EACGR,KAAK,CAACS,QADT,CADF,CAKD,CAtBD,CAwBA,OAASV,oBAAT","sourcesContent":["import React, { createContext, useReducer, useEffect } from \"react\"\n\nimport { tokenReducer } from \"../../reducers/token\"\n\ntype DefaultValue = {\n  token: any\n  dispatch: any\n}\n\nexport const TokenContext = createContext({\n  token: { accessToken: null, refereshToken: null },\n  dispatch: null,\n} as DefaultValue)\n\nconst TokenContextProvider = (props) => {\n  const [token, dispatch] = useReducer(\n    tokenReducer,\n    { accessToken: null, refereshToken: null },\n    () => {\n      const localData = localStorage.getItem(\"token\")\n      return localData\n        ? JSON.parse(localData)\n        : { accessToken: null, refereshToken: null }\n    }\n  )\n\n  useEffect(() => {\n    localStorage.setItem(\"token\", JSON.stringify(token))\n  }, [token])\n\n  const value = { token, dispatch }\n  return (\n    <TokenContext.Provider value={value}>\n      {props.children}\n    </TokenContext.Provider>\n  )\n}\n\nexport { TokenContextProvider }\n"]},"metadata":{},"sourceType":"module"}