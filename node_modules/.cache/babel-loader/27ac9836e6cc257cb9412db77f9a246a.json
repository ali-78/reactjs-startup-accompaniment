{"ast":null,"code":"var _jsxFileName = \"/home/ali/reactjs-startup-accompaniment/src/components/common/Form/SelectInput/SelectInput.tsx\";\nimport React, { useState, useEffect } from \"react\";\nimport { Field, ErrorMessage } from \"formik\";\nimport selectIconArrowDown from \"../../../../assets/images/registeration/chevron-down.png\";\nimport selectIconArrowUp from \"../../../../assets/images/registeration/chevron-up.png\";\nimport Styles from \"./SelectInput.module.css\";\n/* sample input:  {selectList: genderList, style:{width:\"\",height: \"\",search-background-color:\"\"}}*/\n\n/* sample input list:  const genderList = [[{id:1,title: \"مرد | male\"}],[{id:2,title: \"زن | woman\"}]]; */\n\nconst SelectInput = props => {\n  const [open, setOpen] = useState(false);\n  const [scroll, setScroll] = useState(false);\n  const [search, setSearch] = useState(\"\");\n  const optionList = props.optionList[0];\n  const [filteredList, setFilteredList] = useState([]);\n  const [value, setValue] = useState({\n    key: 0,\n    title: props.title\n  });\n\n  const handleSaerch = async event => {\n    setSearch(event.target.value);\n  };\n\n  useEffect(() => {\n    const specifiedElement = document.getElementById(`select-all-block_${props.name}`);\n    document.addEventListener(\"click\", event => {\n      const isClickInside = specifiedElement.contains(event.target);\n\n      if (!isClickInside) {\n        setOpen(false);\n      }\n    });\n    return document.removeEventListener(\"click\", event => {\n      const isClickInside = specifiedElement.contains(event.target);\n\n      if (!isClickInside) {\n        setOpen(false);\n      }\n    });\n  }, [props.name]);\n  /* set value to formik field */\n\n  const setFieldValue = props.setValue;\n  useEffect(() => {\n    setFieldValue(props.name, parseInt(value.key), true);\n  }, [value.key, props.name, setFieldValue]);\n  useEffect(() => {\n    let number = 0;\n    let updateFilteredList = new Set();\n    optionList.forEach(option => {\n      if (typeof option[0] === typeof \"\") {\n        if (option[0].includes(search)) {\n          number = number + 1;\n\n          if (number > 6) {\n            setScroll(true);\n          }\n\n          updateFilteredList.add([{\n            key: option[0],\n            title: option[0],\n            role: \"title\"\n          }]);\n        }\n\n        ;\n        option[1].forEach(optionItem => {\n          if (optionItem.title.includes(search) && optionItem.title !== value.title) {\n            number = number + 1;\n\n            if (number > 6) {\n              setScroll(true);\n            }\n\n            updateFilteredList.add([{\n              key: optionItem.id,\n              title: optionItem.title,\n              role: \"option\"\n            }]);\n          }\n        });\n      } else {\n        ;\n        option.forEach(optionItem => {\n          if (optionItem.title.includes(search) && optionItem.title !== value.title) {\n            number = number + 1;\n\n            if (number > 6) {\n              setScroll(true);\n            }\n\n            updateFilteredList.add([{\n              key: optionItem.id,\n              title: optionItem.title,\n              role: \"option\"\n            }]);\n          }\n        });\n      }\n    });\n    setFilteredList(Array.from(updateFilteredList));\n  }, [search, optionList, value.title]);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    id: `select-all-block_${props.name}`,\n    style: {\n      width: \"100%\",\n      position: \"relative\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      background: props.useFor === \"accordion\" ? \"#ffffff\" : undefined\n    },\n    className: props.errors && props.touched ? `${Styles.selectInputError}` : `${Styles.selectInput}`,\n    onClick: () => {\n      setOpen(!open);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Field, {\n    className: `${Styles.fieldInput}`,\n    type: \"button\",\n    name: props.name,\n    value: value.title.length > 14 ? value.title.substring(0, 10) + \"...\" : value.title,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"span\", {\n    className: `${Styles.selectInputIconHolder}`,\n    style: {\n      background: props.useFor === \"accordion\" ? \"#d8d8d8\" : undefined\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 151,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    style: {\n      height: \"80%\",\n      width: \"80%\"\n    },\n    src: open ? selectIconArrowUp : selectIconArrowDown,\n    alt: \"down\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 157,\n      columnNumber: 11\n    }\n  }))), /*#__PURE__*/React.createElement(ErrorMessage, {\n    name: props.name,\n    component: \"div\",\n    className: `${Styles.formErrorBlock}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 164,\n      columnNumber: 7\n    }\n  }), open ? /*#__PURE__*/React.createElement(\"ul\", {\n    id: \"selectOption\",\n    style: {\n      background: props.useFor === \"accordion\" ? \"#ffffff\" : undefined\n    },\n    className: scroll ? `${Styles.selectDropDownList} ${Styles.selectDropDownListScroll}` : `${Styles.selectDropDownList} ${Styles.selectDropDownListFix}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 170,\n      columnNumber: 9\n    }\n  }, props.hasSearch ? /*#__PURE__*/React.createElement(\"li\", {\n    className: `${Styles.selectDropDownListItem} ${Styles.selectInputBlock}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 182,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    style: {\n      background: props.useFor === \"accordion\" ? \"#bfbfbf\" : undefined\n    },\n    type: \"text\",\n    name: value.title,\n    placeholder: \"\\u062C\\u0633\\u062A\\u062C\\u0648 ...\",\n    value: search,\n    onChange: event => handleSaerch(event),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 185,\n      columnNumber: 15\n    }\n  })) : undefined, value.key !== 0 ? /*#__PURE__*/React.createElement(\"li\", {\n    className: `${Styles.selectDropDownListItem} ${Styles.selectInputOption}`,\n    onClick: () => {\n      setValue({\n        key: 0,\n        title: props.title\n      });\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 199,\n      columnNumber: 13\n    }\n  }, \"\\u0647\\u06CC\\u0686\\u06A9\\u062F\\u0627\\u0645 | None\") : undefined, filteredList.toString() !== \"\" ? filteredList.map((item, index) => {\n    if (item[0].role === \"title\") {\n      return /*#__PURE__*/React.createElement(\"li\", {\n        key: index,\n        className: `${Styles.selectDropDownListItemTitle}`,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 212,\n          columnNumber: 19\n        }\n      }, item[0].title);\n    } else {\n      return /*#__PURE__*/React.createElement(\"li\", {\n        key: index,\n        \"data-value\": item[0].title,\n        \"data-key\": item[0].key,\n        onClick: event => {\n          const el = event.target;\n          setValue({\n            key: el.getAttribute(\"data-key\"),\n            title: el.getAttribute(\"data-value\")\n          });\n          setOpen(false);\n        },\n        className: `${Styles.selectDropDownListItem} ${Styles.selectInputOption}`,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 221,\n          columnNumber: 19\n        }\n      }, item[0].title);\n    }\n  }) : /*#__PURE__*/React.createElement(\"li\", {\n    className: `${Styles.selectDropDownListItem} ${Styles.selectInputOption}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 241,\n      columnNumber: 13\n    }\n  }, \"No Result\")) : undefined);\n};\n\nexport default SelectInput;","map":{"version":3,"sources":["/home/ali/reactjs-startup-accompaniment/src/components/common/Form/SelectInput/SelectInput.tsx"],"names":["React","useState","useEffect","Field","ErrorMessage","selectIconArrowDown","selectIconArrowUp","Styles","SelectInput","props","open","setOpen","scroll","setScroll","search","setSearch","optionList","filteredList","setFilteredList","value","setValue","key","title","handleSaerch","event","target","specifiedElement","document","getElementById","name","addEventListener","isClickInside","contains","removeEventListener","setFieldValue","parseInt","number","updateFilteredList","Set","forEach","option","includes","add","role","optionItem","id","Array","from","width","position","background","useFor","undefined","errors","touched","selectInputError","selectInput","fieldInput","length","substring","selectInputIconHolder","height","formErrorBlock","selectDropDownList","selectDropDownListScroll","selectDropDownListFix","hasSearch","selectDropDownListItem","selectInputBlock","selectInputOption","toString","map","item","index","selectDropDownListItemTitle","el","getAttribute"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\"\nimport { Field, ErrorMessage } from \"formik\"\n\nimport selectIconArrowDown from \"../../../../assets/images/registeration/chevron-down.png\"\nimport selectIconArrowUp from \"../../../../assets/images/registeration/chevron-up.png\"\n\nimport Styles from \"./SelectInput.module.css\"\n/* sample input:  {selectList: genderList, style:{width:\"\",height: \"\",search-background-color:\"\"}}*/\n/* sample input list:  const genderList = [[{id:1,title: \"مرد | male\"}],[{id:2,title: \"زن | woman\"}]]; */\n\ntype properties = {\n  title: string\n  name: string\n  errors: any\n  touched: any\n  optionList: any\n  useFor?: string\n  hasSearch?: boolean\n  setValue: any\n}\n\ntype Value = {\n  key: any\n  title: any\n}\n\nconst SelectInput: React.FC<properties> = (props) => {\n  const [open, setOpen] = useState<boolean>(false)\n  const [scroll, setScroll] = useState<boolean>(false)\n  const [search, setSearch] = useState<string>(\"\")\n  const optionList = props.optionList[0]\n  const [filteredList, setFilteredList] = useState<any>([])\n  const [value, setValue] = useState<Value>({\n    key: 0,\n    title: props.title,\n  })\n\n  const handleSaerch = async (event) => {\n    setSearch(event.target.value)\n  }\n\n  useEffect(() => {\n    const specifiedElement: any = document.getElementById(\n      `select-all-block_${props.name}`\n    )\n    document.addEventListener(\"click\", (event) => {\n      const isClickInside: boolean = specifiedElement.contains(event.target)\n      if (!isClickInside) {\n        setOpen(false)\n      }\n    })\n    return document.removeEventListener(\"click\", (event) => {\n      const isClickInside = specifiedElement.contains(event.target)\n      if (!isClickInside) {\n        setOpen(false)\n      }\n    })\n  }, [props.name])\n\n  /* set value to formik field */\n\n  const setFieldValue = props.setValue\n  useEffect(() => {\n    setFieldValue(props.name, parseInt(value.key), true)\n  }, [value.key, props.name, setFieldValue])\n\n  useEffect(() => {\n    let number: number = 0\n    let updateFilteredList = new Set()\n    optionList.forEach((option) => {\n      if (typeof option[0] === typeof \"\") {\n        if ((option[0] as any).includes(search)) {\n          number = number + 1\n          if (number > 6) {\n            setScroll(true)\n          }\n          updateFilteredList.add([\n            { key: option[0], title: option[0], role: \"title\" },\n          ])\n        }\n        ;(option[1] as any).forEach((optionItem) => {\n          if (\n            optionItem.title.includes(search) &&\n            optionItem.title !== value.title\n          ) {\n            number = number + 1\n            if (number > 6) {\n              setScroll(true)\n            }\n            updateFilteredList.add([\n              {\n                key: optionItem.id,\n                title: optionItem.title,\n                role: \"option\",\n              },\n            ])\n          }\n        })\n      } else {\n        ;(option as any).forEach((optionItem) => {\n          if (\n            optionItem.title.includes(search) &&\n            optionItem.title !== value.title\n          ) {\n            number = number + 1\n            if (number > 6) {\n              setScroll(true)\n            }\n            updateFilteredList.add([\n              {\n                key: optionItem.id,\n                title: optionItem.title,\n                role: \"option\",\n              },\n            ])\n          }\n        })\n      }\n    })\n    setFilteredList(Array.from(updateFilteredList))\n  }, [search, optionList, value.title])\n\n  return (\n    <div\n      id={`select-all-block_${props.name}`}\n      style={{ width: \"100%\", position: \"relative\" }}\n    >\n      <div\n        style={{\n          background: props.useFor === \"accordion\" ? \"#ffffff\" : undefined,\n        }}\n        className={\n          props.errors && props.touched\n            ? `${Styles.selectInputError}`\n            : `${Styles.selectInput}`\n        }\n        onClick={() => {\n          setOpen(!open)\n        }}\n      >\n        <Field\n          className={`${Styles.fieldInput}`}\n          type=\"button\"\n          name={props.name}\n          value={\n            value.title.length > 14\n              ? value.title.substring(0, 10) + \"...\"\n              : value.title\n          }\n        />\n        <span\n          className={`${Styles.selectInputIconHolder}`}\n          style={{\n            background: props.useFor === \"accordion\" ? \"#d8d8d8\" : undefined,\n          }}\n        >\n          <img\n            style={{ height: \"80%\", width: \"80%\" }}\n            src={open ? selectIconArrowUp : selectIconArrowDown}\n            alt=\"down\"\n          />\n        </span>\n      </div>\n      <ErrorMessage\n        name={props.name}\n        component=\"div\"\n        className={`${Styles.formErrorBlock}`}\n      />\n      {open ? (\n        <ul\n          id=\"selectOption\"\n          style={{\n            background: props.useFor === \"accordion\" ? \"#ffffff\" : undefined,\n          }}\n          className={\n            scroll\n              ? `${Styles.selectDropDownList} ${Styles.selectDropDownListScroll}`\n              : `${Styles.selectDropDownList} ${Styles.selectDropDownListFix}`\n          }\n        >\n          {props.hasSearch ? (\n            <li\n              className={`${Styles.selectDropDownListItem} ${Styles.selectInputBlock}`}\n            >\n              <input\n                style={{\n                  background:\n                    props.useFor === \"accordion\" ? \"#bfbfbf\" : undefined,\n                }}\n                type=\"text\"\n                name={value.title}\n                placeholder=\"جستجو ...\"\n                value={search}\n                onChange={(event) => handleSaerch(event)}\n              />\n            </li>\n          ) : undefined}\n          {value.key !== 0 ? (\n            <li\n              className={`${Styles.selectDropDownListItem} ${Styles.selectInputOption}`}\n              onClick={() => {\n                setValue({ key: 0, title: props.title })\n              }}\n            >\n              هیچکدام | None\n            </li>\n          ) : undefined}\n          {filteredList.toString() !== \"\" ? (\n            filteredList.map((item, index) => {\n              if (item[0].role === \"title\") {\n                return (\n                  <li\n                    key={index}\n                    className={`${Styles.selectDropDownListItemTitle}`}\n                  >\n                    {item[0].title}\n                  </li>\n                )\n              } else {\n                return (\n                  <li\n                    key={index}\n                    data-value={item[0].title}\n                    data-key={item[0].key}\n                    onClick={(event: React.MouseEvent<HTMLElement>) => {\n                      const el = event.target as HTMLInputElement\n                      setValue({\n                        key: el.getAttribute(\"data-key\"),\n                        title: el.getAttribute(\"data-value\"),\n                      })\n                      setOpen(false)\n                    }}\n                    className={`${Styles.selectDropDownListItem} ${Styles.selectInputOption}`}\n                  >\n                    {item[0].title}\n                  </li>\n                )\n              }\n            })\n          ) : (\n            <li\n              className={`${Styles.selectDropDownListItem} ${Styles.selectInputOption}`}\n            >\n              No Result\n            </li>\n          )}\n        </ul>\n      ) : undefined}\n    </div>\n  )\n}\n\nexport default SelectInput\n"]},"metadata":{},"sourceType":"module"}