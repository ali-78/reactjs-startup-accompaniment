{"ast":null,"code":"import _slicedToArray from\"/home/ali/reactjs-startup-accompaniment/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React from\"react\";import Grid from\"@material-ui/core/Grid\";import Box from\"@material-ui/core/Box\";import FormTitle from\"../../common/Form/FormTitle\";import{Formik,Form}from\"formik\";import*as Yup from\"yup\";import{useTheme}from\"@material-ui/core/styles\";import useMediaQuery from\"@material-ui/core/useMediaQuery\";import FastSubscriptionFormFields from\"./FastSubscriptionFormFields\";import{initialValues}from\"../../../core/initialvalues/register-fast-subscription.initialvalues\";import{validation}from\"../../../core/validations/register-fast-subscription.validation\";import CustomButton,{ClassName}from\"../../common/Form/Button\";import Loading from\"../../../components/common/IsLoading\";import{usePostRegister}from\"../../../core/api/post-register\";import{useStyles}from\"./FastSubscriptionBlock.styles\";var FastSubscriptionBlock=function FastSubscriptionBlock(){var classes=useStyles({});var theme=useTheme();var matchesXs=useMediaQuery(theme.breakpoints.down(\"xs\"));var _usePostRegister=usePostRegister(),_usePostRegister2=_slicedToArray(_usePostRegister,2),mutate=_usePostRegister2[0],_usePostRegister2$=_usePostRegister2[1],error=_usePostRegister2$.error,isError=_usePostRegister2$.isError,isLoading=_usePostRegister2$.isLoading;if(isError){console.log(error);}return/*#__PURE__*/React.createElement(React.Fragment,null,isLoading&&/*#__PURE__*/React.createElement(Loading,null),/*#__PURE__*/React.createElement(Box,{clone:true,boxShadow:3},/*#__PURE__*/React.createElement(Grid,{className:classes.fastSubsBlockContainer},/*#__PURE__*/React.createElement(Grid,{item:true,container:true,direction:\"row\",className:classes.fastSubsFormContainer,style:{width:matchesXs?\"95%\":\"600px\"}},/*#__PURE__*/React.createElement(Grid,{item:true,container:true,direction:\"column\"},/*#__PURE__*/React.createElement(FormTitle,{title:\"\\u0647\\u0648\\u06CC\\u062A | ID\"})),/*#__PURE__*/React.createElement(Formik,{initialValues:initialValues,validationSchema:Yup.object().shape(validation),onSubmit:function onSubmit(values,_ref){var setSubmitting=_ref.setSubmitting;mutate(values).then(function(){console.log(\"loged in\");}).catch(function(){console.log(error);});setTimeout(function(){setSubmitting(false);},400);}},function(_ref2){var errors=_ref2.errors,touched=_ref2.touched,isSubmitting=_ref2.isSubmitting,setFieldValue=_ref2.setFieldValue,values=_ref2.values;return/*#__PURE__*/React.createElement(Form,{style:{width:\"100%\"}},/*#__PURE__*/React.createElement(FastSubscriptionFormFields,{errors:errors,touched:touched,setFieldValue:setFieldValue,values:values}),/*#__PURE__*/React.createElement(Grid,{item:true,container:true,justify:\"center\",style:{textAlign:\"center\",marginTop:\"5em\",marginBottom:\"3em\"}},/*#__PURE__*/React.createElement(CustomButton,{for:ClassName.registerForm,disabled:isSubmitting,type:\"submit\",value:\"عضویت سریع | Fast Subscription\"})));})))));};export default FastSubscriptionBlock;","map":{"version":3,"sources":["/home/ali/reactjs-startup-accompaniment/src/components/Registration/FastSubscription/FastSubscriptionBlock.tsx"],"names":["React","Grid","Box","FormTitle","Formik","Form","Yup","useTheme","useMediaQuery","FastSubscriptionFormFields","initialValues","validation","CustomButton","ClassName","Loading","usePostRegister","useStyles","FastSubscriptionBlock","classes","theme","matchesXs","breakpoints","down","mutate","error","isError","isLoading","console","log","fastSubsBlockContainer","fastSubsFormContainer","width","object","shape","values","setSubmitting","then","catch","setTimeout","errors","touched","isSubmitting","setFieldValue","textAlign","marginTop","marginBottom","registerForm"],"mappings":"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","sourcesContent":["import React from \"react\"\nimport Grid from \"@material-ui/core/Grid\"\nimport Box from \"@material-ui/core/Box\"\nimport FormTitle from \"../../common/Form/FormTitle\"\nimport { Formik, Form } from \"formik\"\nimport * as Yup from \"yup\"\nimport { useTheme } from \"@material-ui/core/styles\"\nimport useMediaQuery from \"@material-ui/core/useMediaQuery\"\n\nimport FastSubscriptionFormFields from \"./FastSubscriptionFormFields\"\n\nimport { initialValues } from \"../../../core/initialvalues/register-fast-subscription.initialvalues\"\nimport { validation } from \"../../../core/validations/register-fast-subscription.validation\"\n\nimport CustomButton, { ClassName } from \"../../common/Form/Button\"\n\nimport Loading from \"../../../components/common/IsLoading\"\n\nimport { usePostRegister } from \"../../../core/api/post-register\"\n\nimport { StyleProps } from \"./FastSubscriptionBlock.styles\"\nimport { useStyles } from \"./FastSubscriptionBlock.styles\"\n\ntype PropsClasses = Record<keyof StyleProps, string>\n\nconst FastSubscriptionBlock: React.FC = () => {\n  const classes: PropsClasses = useStyles({} as StyleProps)\n  const theme = useTheme()\n  const matchesXs = useMediaQuery(theme.breakpoints.down(\"xs\"))\n\n  const [mutate, { error, isError, isLoading }] = usePostRegister()\n\n  if (isError) {\n    console.log(error)\n  }\n\n  return (\n    <React.Fragment>\n      {isLoading && <Loading />}\n      <Box clone boxShadow={3}>\n        <Grid className={classes.fastSubsBlockContainer}>\n          <Grid\n            item\n            container\n            direction=\"row\"\n            className={classes.fastSubsFormContainer}\n            style={{ width: matchesXs ? \"95%\" : \"600px\" }}\n          >\n            <Grid item container direction=\"column\">\n              <FormTitle title=\"هویت | ID\" />\n            </Grid>\n\n            <Formik\n              initialValues={initialValues}\n              validationSchema={Yup.object().shape(validation)}\n              onSubmit={(values, { setSubmitting }) => {\n                mutate(values)\n                  .then(() => {\n                    console.log(\"loged in\")\n                  })\n                  .catch(() => {\n                    console.log(error)\n                  })\n                setTimeout(() => {\n                  setSubmitting(false)\n                }, 400)\n              }}\n            >\n              {({ errors, touched, isSubmitting, setFieldValue, values }) => {\n                return (\n                  <Form style={{ width: \"100%\" }}>\n                    <FastSubscriptionFormFields\n                      errors={errors}\n                      touched={touched}\n                      setFieldValue={setFieldValue}\n                      values={values}\n                    />\n                    <Grid\n                      item\n                      container\n                      justify=\"center\"\n                      style={{\n                        textAlign: \"center\",\n                        marginTop: \"5em\",\n                        marginBottom: \"3em\",\n                      }}\n                    >\n                      <CustomButton\n                        for={ClassName.registerForm}\n                        disabled={isSubmitting}\n                        type={\"submit\"}\n                        value={\"عضویت سریع | Fast Subscription\"}\n                      />\n                    </Grid>\n                  </Form>\n                )\n              }}\n            </Formik>\n          </Grid>\n        </Grid>\n      </Box>\n    </React.Fragment>\n  )\n}\n\nexport default FastSubscriptionBlock\n"]},"metadata":{},"sourceType":"module"}