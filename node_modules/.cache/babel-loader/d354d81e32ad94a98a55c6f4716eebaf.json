{"ast":null,"code":"import { getAccessToken } from \"../../core/api/post-access-token.api\";\nimport { logout } from \"../../core/api/post-logout.api\";\nexport const tokenReducer = (state, action) => {\n  switch (action.type) {\n    case \"login\":\n      return {\n        accessToken: action.payload.accessToken,\n        refereshToken: action.payload.refereshToken\n      };\n\n    case \"accessTokenExpired\":\n      return getAccessToken(state.refereshToken).then(token => {\n        if (token) {\n          return { ...state,\n            accessToken: token\n          };\n        } else {\n          return {\n            accessToken: null,\n            refereshToken: null\n          };\n        }\n      }).catch(() => {\n        return state;\n      });\n\n    case \"exit\":\n      return logout().then(res => {\n        if (res) {\n          return {\n            accessToken: null,\n            refereshToken: null\n          };\n        } else {\n          return state;\n        }\n      }).catch(() => {\n        return state;\n      });\n\n    default:\n      return state;\n  }\n};","map":{"version":3,"sources":["/home/ali/hamnavazi/my-app/src/reducers/token/token.reducer.ts"],"names":["getAccessToken","logout","tokenReducer","state","action","type","accessToken","payload","refereshToken","then","token","catch","res"],"mappings":"AAAA,SAASA,cAAT,QAA+B,sCAA/B;AACA,SAASC,MAAT,QAAuB,gCAAvB;AACA,OAAO,MAAMC,YAAiB,GAAG,CAACC,KAAD,EAAQC,MAAR,KAAmB;AAClD,UAAQA,MAAM,CAACC,IAAf;AACE,SAAK,OAAL;AACE,aAAO;AACLC,QAAAA,WAAW,EAAEF,MAAM,CAACG,OAAP,CAAeD,WADvB;AAELE,QAAAA,aAAa,EAAEJ,MAAM,CAACG,OAAP,CAAeC;AAFzB,OAAP;;AAIF,SAAK,oBAAL;AACE,aAAOR,cAAc,CAACG,KAAK,CAACK,aAAP,CAAd,CACJC,IADI,CACEC,KAAD,IAAW;AACf,YAAIA,KAAJ,EAAW;AACT,iBAAO,EAAE,GAAGP,KAAL;AAAYG,YAAAA,WAAW,EAAEI;AAAzB,WAAP;AACD,SAFD,MAEO;AACL,iBAAO;AAAEJ,YAAAA,WAAW,EAAE,IAAf;AAAqBE,YAAAA,aAAa,EAAE;AAApC,WAAP;AACD;AACF,OAPI,EAQJG,KARI,CAQE,MAAM;AACX,eAAOR,KAAP;AACD,OAVI,CAAP;;AAYF,SAAK,MAAL;AACE,aAAOF,MAAM,GACVQ,IADI,CACEG,GAAD,IAAS;AACb,YAAIA,GAAJ,EAAS;AACP,iBAAO;AAAEN,YAAAA,WAAW,EAAE,IAAf;AAAqBE,YAAAA,aAAa,EAAE;AAApC,WAAP;AACD,SAFD,MAEO;AACL,iBAAOL,KAAP;AACD;AACF,OAPI,EAQJQ,KARI,CAQE,MAAM;AACX,eAAOR,KAAP;AACD,OAVI,CAAP;;AAWF;AACE,aAAOA,KAAP;AAhCJ;AAkCD,CAnCM","sourcesContent":["import { getAccessToken } from \"../../core/api/post-access-token.api\"\nimport { logout } from \"../../core/api/post-logout.api\"\nexport const tokenReducer: any = (state, action) => {\n  switch (action.type) {\n    case \"login\":\n      return {\n        accessToken: action.payload.accessToken,\n        refereshToken: action.payload.refereshToken,\n      }\n    case \"accessTokenExpired\":\n      return getAccessToken(state.refereshToken)\n        .then((token) => {\n          if (token) {\n            return { ...state, accessToken: token }\n          } else {\n            return { accessToken: null, refereshToken: null }\n          }\n        })\n        .catch(() => {\n          return state\n        })\n\n    case \"exit\":\n      return logout()\n        .then((res) => {\n          if (res) {\n            return { accessToken: null, refereshToken: null }\n          } else {\n            return state\n          }\n        })\n        .catch(() => {\n          return state\n        })\n    default:\n      return state\n  }\n}\n"]},"metadata":{},"sourceType":"module"}