{"ast":null,"code":"import _slicedToArray from\"/home/ali/reactjs-startup-accompaniment/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from\"react\";import{useHistory,useLocation}from\"react-router\";import{PrevArrowButton,NextArrowButton}from\"./ArrowButton\";import{PagesButton}from\"./PageButton\";import{PhoneMode}from\"./PhoneMode\";import{PaginationMaker}from\"./PaginationMaker\";import{resolvedData}from\"../fake-data\";import style from\"./SearchPagination.module.css\";var SearchPagination=function SearchPagination(){var pathName=useLocation().pathname;var history=useHistory();var _useState=useState(1),_useState2=_slicedToArray(_useState,2),currentPage=_useState2[0],setCurrentPage=_useState2[1];//fake data\nvar totalCount=resolvedData.result.count;var pageSize=8;var lastPage=Math.ceil(totalCount/pageSize);var totalPages=PaginationMaker(currentPage,totalCount,pageSize);useEffect(function(){var params=new URLSearchParams(window.location.search);params.set(\"page\",currentPage);history.replace(\"\".concat(pathName,\"?\").concat(params.toString()));},[currentPage]);return/*#__PURE__*/React.createElement(\"div\",{className:style.paginationContainer},/*#__PURE__*/React.createElement(\"ul\",{className:style.paginationCounters},/*#__PURE__*/React.createElement(PrevArrowButton,{currentPage:currentPage,lastPage:lastPage,setCurrentPage:setCurrentPage}),/*#__PURE__*/React.createElement(PagesButton,{totalPages:totalPages,currentPage:currentPage,lastPage:lastPage,setCurrentPage:setCurrentPage}),/*#__PURE__*/React.createElement(PhoneMode,{currentPage:currentPage,lastPage:lastPage}),/*#__PURE__*/React.createElement(NextArrowButton,{currentPage:currentPage,lastPage:lastPage,setCurrentPage:setCurrentPage})));};export{SearchPagination};","map":{"version":3,"sources":["/home/ali/reactjs-startup-accompaniment/src/components/Search/SearchPagination/SearchPagination.tsx"],"names":["React","useEffect","useState","useHistory","useLocation","PrevArrowButton","NextArrowButton","PagesButton","PhoneMode","PaginationMaker","resolvedData","style","SearchPagination","pathName","pathname","history","currentPage","setCurrentPage","totalCount","result","count","pageSize","lastPage","Math","ceil","totalPages","params","URLSearchParams","window","location","search","set","replace","toString","paginationContainer","paginationCounters"],"mappings":"0HAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,CAA2BC,QAA3B,KAA2C,OAA3C,CACA,OAASC,UAAT,CAAqBC,WAArB,KAAwC,cAAxC,CAEA,OAASC,eAAT,CAA0BC,eAA1B,KAAiD,eAAjD,CACA,OAASC,WAAT,KAA4B,cAA5B,CACA,OAASC,SAAT,KAA0B,aAA1B,CACA,OAASC,eAAT,KAAgC,mBAAhC,CACA,OAASC,YAAT,KAA6B,cAA7B,CAEA,MAAOC,CAAAA,KAAP,KAAkB,+BAAlB,CAEA,GAAMC,CAAAA,gBAAgB,CAAG,QAAnBA,CAAAA,gBAAmB,EAAM,CAC7B,GAAMC,CAAAA,QAAgB,CAAGT,WAAW,GAAGU,QAAvC,CACA,GAAMC,CAAAA,OAAY,CAAGZ,UAAU,EAA/B,CAF6B,cAGSD,QAAQ,CAAS,CAAT,CAHjB,wCAGtBc,WAHsB,eAGTC,cAHS,eAK7B;AACA,GAAMC,CAAAA,UAAkB,CAAGR,YAAY,CAACS,MAAb,CAAoBC,KAA/C,CACA,GAAMC,CAAAA,QAAgB,CAAG,CAAzB,CACA,GAAIC,CAAAA,QAAgB,CAAGC,IAAI,CAACC,IAAL,CAAUN,UAAU,CAAGG,QAAvB,CAAvB,CACA,GAAMI,CAAAA,UAAoB,CAAGhB,eAAe,CAC1CO,WAD0C,CAE1CE,UAF0C,CAG1CG,QAH0C,CAA5C,CAMApB,SAAS,CAAC,UAAM,CACd,GAAMyB,CAAAA,MAAW,CAAG,GAAIC,CAAAA,eAAJ,CAAoBC,MAAM,CAACC,QAAP,CAAgBC,MAApC,CAApB,CACAJ,MAAM,CAACK,GAAP,CAAW,MAAX,CAAmBf,WAAnB,EACAD,OAAO,CAACiB,OAAR,WAAmBnB,QAAnB,aAA+Ba,MAAM,CAACO,QAAP,EAA/B,GACD,CAJQ,CAIN,CAACjB,WAAD,CAJM,CAAT,CAMA,mBACE,2BAAK,SAAS,CAAEL,KAAK,CAACuB,mBAAtB,eACE,0BAAI,SAAS,CAAEvB,KAAK,CAACwB,kBAArB,eACE,oBAAC,eAAD,EACE,WAAW,CAAEnB,WADf,CAEE,QAAQ,CAAEM,QAFZ,CAGE,cAAc,CAAEL,cAHlB,EADF,cAME,oBAAC,WAAD,EACE,UAAU,CAAEQ,UADd,CAEE,WAAW,CAAET,WAFf,CAGE,QAAQ,CAAEM,QAHZ,CAIE,cAAc,CAAEL,cAJlB,EANF,cAYE,oBAAC,SAAD,EAAW,WAAW,CAAED,WAAxB,CAAqC,QAAQ,CAAEM,QAA/C,EAZF,cAaE,oBAAC,eAAD,EACE,WAAW,CAAEN,WADf,CAEE,QAAQ,CAAEM,QAFZ,CAGE,cAAc,CAAEL,cAHlB,EAbF,CADF,CADF,CAuBD,CA5CD,CA8CA,OAASL,gBAAT","sourcesContent":["import React, { useEffect, useState } from \"react\"\nimport { useHistory, useLocation } from \"react-router\"\n\nimport { PrevArrowButton, NextArrowButton } from \"./ArrowButton\"\nimport { PagesButton } from \"./PageButton\"\nimport { PhoneMode } from \"./PhoneMode\"\nimport { PaginationMaker } from \"./PaginationMaker\"\nimport { resolvedData } from \"../fake-data\"\n\nimport style from \"./SearchPagination.module.css\"\n\nconst SearchPagination = () => {\n  const pathName: string = useLocation().pathname\n  const history: any = useHistory()\n  const [currentPage, setCurrentPage] = useState<number>(1)\n\n  //fake data\n  const totalCount: number = resolvedData.result.count\n  const pageSize: number = 8\n  let lastPage: number = Math.ceil(totalCount / pageSize)\n  const totalPages: number[] = PaginationMaker(\n    currentPage,\n    totalCount,\n    pageSize\n  )\n\n  useEffect(() => {\n    const params: any = new URLSearchParams(window.location.search)\n    params.set(\"page\", currentPage)\n    history.replace(`${pathName}?${params.toString()}`)\n  }, [currentPage])\n\n  return (\n    <div className={style.paginationContainer}>\n      <ul className={style.paginationCounters}>\n        <PrevArrowButton\n          currentPage={currentPage}\n          lastPage={lastPage}\n          setCurrentPage={setCurrentPage}\n        />\n        <PagesButton\n          totalPages={totalPages}\n          currentPage={currentPage}\n          lastPage={lastPage}\n          setCurrentPage={setCurrentPage}\n        />\n        <PhoneMode currentPage={currentPage} lastPage={lastPage} />\n        <NextArrowButton\n          currentPage={currentPage}\n          lastPage={lastPage}\n          setCurrentPage={setCurrentPage}\n        />\n      </ul>\n    </div>\n  )\n}\n\nexport { SearchPagination }\n"]},"metadata":{},"sourceType":"module"}