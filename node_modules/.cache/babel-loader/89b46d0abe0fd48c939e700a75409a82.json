{"ast":null,"code":"import _objectSpread from\"/home/ali/reactjs-startup-accompaniment/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import{getAccessToken}from\"../../core/api/post-access-token.api\";import{logout}from\"../../core/api/post-logout.api\";export var tokenReducer=function tokenReducer(state,action){switch(action.type){case\"login\":return{accessToken:action.payload.accessToken,refereshToken:action.payload.refereshToken};case\"accessTokenExpired\":return getAccessToken(state.refereshToken).then(function(token){if(token){return _objectSpread(_objectSpread({},state),{},{accessToken:token});}else{return{accessToken:null,refereshToken:null};}}).catch(function(){return state;});case\"exit\":return logout().then(function(res){if(res){return{accessToken:null,refereshToken:null};}else{return state;}}).catch(function(){return state;});default:return state;}};","map":{"version":3,"sources":["/home/ali/reactjs-startup-accompaniment/src/reducers/token/token.reducer.ts"],"names":["getAccessToken","logout","tokenReducer","state","action","type","accessToken","payload","refereshToken","then","token","catch","res"],"mappings":"yHAAA,OAASA,cAAT,KAA+B,sCAA/B,CACA,OAASC,MAAT,KAAuB,gCAAvB,CACA,MAAO,IAAMC,CAAAA,YAAiB,CAAG,QAApBA,CAAAA,YAAoB,CAACC,KAAD,CAAQC,MAAR,CAAmB,CAClD,OAAQA,MAAM,CAACC,IAAf,EACE,IAAK,OAAL,CACE,MAAO,CACLC,WAAW,CAAEF,MAAM,CAACG,OAAP,CAAeD,WADvB,CAELE,aAAa,CAAEJ,MAAM,CAACG,OAAP,CAAeC,aAFzB,CAAP,CAIF,IAAK,oBAAL,CACE,MAAOR,CAAAA,cAAc,CAACG,KAAK,CAACK,aAAP,CAAd,CACJC,IADI,CACC,SAACC,KAAD,CAAW,CACf,GAAIA,KAAJ,CAAW,CACT,sCAAYP,KAAZ,MAAmBG,WAAW,CAAEI,KAAhC,GACD,CAFD,IAEO,CACL,MAAO,CAAEJ,WAAW,CAAE,IAAf,CAAqBE,aAAa,CAAE,IAApC,CAAP,CACD,CACF,CAPI,EAQJG,KARI,CAQE,UAAM,CACX,MAAOR,CAAAA,KAAP,CACD,CAVI,CAAP,CAYF,IAAK,MAAL,CACE,MAAOF,CAAAA,MAAM,GACVQ,IADI,CACC,SAACG,GAAD,CAAS,CACb,GAAIA,GAAJ,CAAS,CACP,MAAO,CAAEN,WAAW,CAAE,IAAf,CAAqBE,aAAa,CAAE,IAApC,CAAP,CACD,CAFD,IAEO,CACL,MAAOL,CAAAA,KAAP,CACD,CACF,CAPI,EAQJQ,KARI,CAQE,UAAM,CACX,MAAOR,CAAAA,KAAP,CACD,CAVI,CAAP,CAWF,QACE,MAAOA,CAAAA,KAAP,CAhCJ,CAkCD,CAnCM","sourcesContent":["import { getAccessToken } from \"../../core/api/post-access-token.api\"\nimport { logout } from \"../../core/api/post-logout.api\"\nexport const tokenReducer: any = (state, action) => {\n  switch (action.type) {\n    case \"login\":\n      return {\n        accessToken: action.payload.accessToken,\n        refereshToken: action.payload.refereshToken,\n      }\n    case \"accessTokenExpired\":\n      return getAccessToken(state.refereshToken)\n        .then((token) => {\n          if (token) {\n            return { ...state, accessToken: token }\n          } else {\n            return { accessToken: null, refereshToken: null }\n          }\n        })\n        .catch(() => {\n          return state\n        })\n\n    case \"exit\":\n      return logout()\n        .then((res) => {\n          if (res) {\n            return { accessToken: null, refereshToken: null }\n          } else {\n            return state\n          }\n        })\n        .catch(() => {\n          return state\n        })\n    default:\n      return state\n  }\n}\n"]},"metadata":{},"sourceType":"module"}